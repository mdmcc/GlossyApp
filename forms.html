<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Forms</title>
    <meta charset="utf-8"/>
    <style>
      /*input {
        border: solid 3px;
        border-color: #362F87;
        padding: 4px;
      }

      form {
        width: 600px;
        margin: 0 auto;
        background-color: #6BECE3;
        font-size: 12pt;
        font-family: Sans-serif;
      }

      label, input {
        display: inline-block;
        font-size: 11pt;
        font-weight: bold;
        font-family: Sans-serif;
        color: #233290;
      }

      label {
        width: 30%;
        text-align: right;
      }

      label + input {
        width: 50%;
        margin: 0 10% 0 4%;
      }

      input + input {
        float: right;
      }

      #reset {
        color: #233290;
      }
      
      #submit {
        color: #233290; 
      }*/

    </style>
  </head>
  <body>

    <div>
     <br/><br/><br/>
      <form action="./SignUpForm">
        <fieldset>
          <legend>Sign Up Form</legend>
          <label for="firstName">First Name: </label>
          <input id="firstName" type="text" placeholder="First name" autofocus="autofocus"
            required="true" pattern="[a-zA-Z][a-zA-Z0-9-_\.]{2,20}" oninput="checkTitle(this);"/><br/><br/>

          <label for="lastName">Last Name: </label>
          <input id="lastName" type="text" placeholder="Last name" autofocus="autofocus"
            required="true" pattern="[a-zA-Z][a-zA-Z0-9-_\.]{2,20}" oninput="checkTitle(this);"/><br/><br/>

          <label for="email">Email: </label>
          <input id="email" type="email" placeholder="email"  
            required="true" oninput="checkEmail(this);"/><br/><br/>

          <label for="password">Password: </label>
          <input id="password" type="text" placeholder="Password" autofocus="autofocus"
            required="true" pattern="(?=.*\d)(?=.*[a-zA-Z][a-zA-Z0-9-_\.]){6,30}" oninput="checkTitle(this);"/><br/><br/>


          <label for="confirmPassword">Confirm password: </label>
          <input id="confirmPassword" type="text" placeholder="Confirm password" autofocus="autofocus"
            required="true" pattern="(?=.*\d)(?=.*[a-zA-Z][a-zA-Z0-9-_\.]){6,30}" oninput="checkTitle(this);"/><br/><br/>


         <!--  <label for="developers">Number of developers: </label>
          <input id="developers" type="number" placeholder="number of developers" min="1" max="10" value="1"
            required="true" oninput="checkDevelopers(this);"/><br/><br/>

          <label for="date">Date game was made: </label>
          <input id="date" type="date" placeholder="date game was released" min="2010-01-01"
            max="2015-02-24" value="" required="true" oninput="checkDate(this);"/><br/><br/> -->

          <input id="submit" type="submit" value="Submit"/>
          <input type="reset" value="Reset"/>

    </div>

    <script>
      var submitButton = document.getElementById("submit");
        function checkTitle(input) {
          if(input.validity.patternMismatch) {
              input.setCustomValidity("Title of game must be more than 2 alphabetic characters and less than 20 alphabetic characters.");
          } else if(input.validity.valueMissing) {
              input.setCustomValidity("You must enter a title!");
          } else {
              input.setCustomValidity("");
          }
             // customError: if setCustomValidity() was used to create a custom error message
          console.log("input validity customError: " + input.validity.customError);

          // patternMismatch: if the data doesn't meet the prescribed regular expression pattern
          console.log("input validity patternMismatch: " + input.validity.patternMismatch);

          // valueMissing: if the input is empty
          console.log("input validity valueMissing: " + input.validity.valueMissing);
        }

        function checkEmail(input) {
          if(input.validity.typeMismatch) {
              input.setCustomValidity("Email has to be a valid email address and must be up to 30 alphabetic characters!");
              //submitButton.disabled = true;
          } else {
              input.setCustomValidity("");
              //submitButton.disabled = false;
          }
        }

        function checkPassword(str)
          {
            var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,30}$/;
            return re.test(str);
          }

          function checkForm(form)
          {
          //   if(form.username.value == "") {
          //     alert("Error: Username cannot be blank!");
          //     form.username.focus();
          //     return false;
          //   }
          //   re = /^\w+$/;
          //   if(!re.test(form.username.value)) {
          //     alert("Error: Username must contain only letters, numbers and underscores!");
          //     form.username.focus();
          //     return false;
          //   }
            if(form.password.value != "" && form.password.value == form.confirmPassword.value) {
              if(!checkPassword(form.password.value)) {
                alert("The password you have entered is not valid!");
                form.password.focus();
                return false;
              }
            } else {
              alert("Error: Please check that you've entered and confirmed your password!");
              form.password.focus();
              return false;
            }
            return true;
          }




        // function checkDevelopers(input) {
        //   if(input.validity.rangeUnderflow) {
        //       input.setCustomValidity("Number of developers must be more than 1 and no more than 10!");
        //   } else if(input.validity.rangeOverflow) {
        //       input.setCustomValidity("Number of developers cannot be over 10!");
        //   } else if(input.validity.badInput) {
        //       input.setCustomValidity("Number of developers must be a number.");
        //   } else {
        //       input.setCustomValidity("");
        //   }
        // }

        // function checkDate(input) {
        //   if(input.validity.rangeUnderflow) {
        //       input.setCustomValidity("Date that the game was made cannot be after today's date!");
        //   } else if(input.validity.rangeOverflow) {
        //       input.setCustomValidity("Date that the game was made cannot be before January 1st, 2010!");
        //   } else if(input.validity.valueMissing) {
        //       input.setCustomValidity("Date is required.");
        //   } else {
        //       input.setCustomValidity("");
        //   }
        // }  
    </script>
  </body>
</html>
