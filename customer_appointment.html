<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-B">
    <title>Customer Appointment Services</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="icon" href="./assets/logo_16colour.gif" type="image/gif" sizes="16x16">
    <link href="css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" href="css/my.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
 
    <script src='js/moment.min.js'></script>
    <script src='js/jquery.min.js'></script>
    <script src='js/jquery-ui.custom.min.js'></script>
    <script src='js/fullcalendar.min.js'></script>
    <script src='js/fullcalendar.js'></script>
    <script src="js/bootstrap.js" ></script>
    <script src="js/npm.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?callback=loadMyMap&libraries=places"async defer></script>
    <script src="js/customerMap.js"></script>

</head>
<body>

    <div class="container">
    
        <div class="row" >
        <div class="col-xs-12 logo" >
               <img src = "./assets/logo_16colour.gif" alt = "logo" id = "logo"/>
            </div>
      </div>
   
<form id="customerForm" role="form">
		<div class="row">
            <div class="col-xs-12 who" id = "profilesubhead">
           Check the services you would like done and choose the price you would like to pay
            </div>
        </div>
        <br>
        <hr>
		   <div class="row">
           		<div class="col-xs-4 servicesBox">Cut:</div>
           
           		<select class="col-xs-8 login3" name="cut" form="customerForm">
                  <option value="NotApplicable">N/A</option>
                  <option value="30to50">30-50</option>
                  <option value="51to70">51-70</option>
                  <option value="71to90">71-90</option>
                  <option value="91to110">91-110</option>
                  <option value="111to130">111-130</option>
				</select>  
       		 </div>
        
  			<div class="row">
            	<div class="col-xs-4 servicesBox">Colour:</div>
           
           		<select class="col-xs-8 login3" name="color" form="customerForm">
                  <option value="NotApplicable">N/A</option>
                  <option value="40to60">40-60</option>
                  <option value="61to80">61-80</option>
                  <option value="81to100">81-100</option>
                  <option value="101to120">101-120</option>
                  <option value="121to140">121-140</option>
                  <option value="141to160">141-160</option>
				</select>  
        </div> 
        
        	   <div class="row">
            <div class="col-xs-4 servicesBox">Blow out:</div>
           
           		<select class="col-xs-8 login3" name="blowOut" form="customerForm">
                  <option value="NotApplicable">N/A</option>
                  <option value="30to50">30-50</option>
                  <option value="51to70">51-70</option>
                  <option value="71to90">71-90</option>
				</select>  
        </div>
        <hr>

         <input class = "cal" type="text" name="appointment" value="" />
       
          <hr>
  
    <div class="col-xs-12">
            <input id="pacinput" class="controls" type="text" placeholder="Search Google Maps">
          <div id="gogmap2" class="mapheight poscenter mapcolor"> 
            GOOGLE MAPS
            </div>
     </div>
 </form>    
       <hr>
        
         <div class="row logbut">
          <button type="button" id="customerSubmit" class="col-xs-12 btn btn-success">Next</button>
        </div>
        
        <div class="row logbut">
          <a href="javascript:history.back()">
          <button type="button" class="col-xs-12 btn btn-default">Back</button>
          </a>
        </div>
    </div>           
  
        <script type="text/javascript">
          $(function() {
              $('input[name="appointment"]').daterangepicker({
                  singleDatePicker: true,
                  showDropdowns: true,
                  timePicker: true,
                  timePickerIncrement: 15,
                  locale: {
                      format: 'YYYY-MM-DD hh:mm:00'
                  }
              });

              $("#customerSubmit").click(function() {
                  $.ajax({
                      url:"php/customerSubmit.php",
                      dataType:"json",
                      type:"POST",
                      data:{
                        service_id:1,
                        customer_id:1,
                        customer_price:"30to50",
                        customer_dateTime: $('input[name="appointment"]').val(),
                        customer_lat: 78,
                        customer_lng: 223,

                      },
                      success: function(resp){
                        document.location.href="./customer_calendar.html"; // works only on success; need an error message
                      },
                      error: function(XMLHttpRequest, textStatus, errorThrown) { 
                          console.log("Status: " + textStatus); 
                          console.log("Error: " + errorThrown);
                          console.log(XMLHttpRequest); 
                      }
                  });
              });
          });
      </script>
</body>
</html>